/******/ (() => { // webpackBootstrap
var __webpack_exports__ = {};
/*!************************!*\
  !*** ./src/js/dark.js ***!
  \************************/
var $themeModeSwitchBtn = $('.header-theme-btn');

// 获取用户偏好的主题颜色模式
var getPreferredThemeMode = function getPreferredThemeMode() {
  var preferredThemeMode = localStorage.preferredThemeMode;
  if (!preferredThemeMode) {
    // 首次访问时，设置用户偏好主题颜色模式为系统偏好主题颜色模式
    preferredThemeMode = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    localStorage.preferredThemeMode = preferredThemeMode;
  } else {
    preferredThemeMode = preferredThemeMode === 'dark' ? 'dark' : 'light';
  }
  return preferredThemeMode;
};

// 设置切换主题按钮可点击
var setThemeModeSwitchBtnActive = function setThemeModeSwitchBtnActive(active) {
  if (active) {
    $themeModeSwitchBtn.removeClass('header-theme-btn-disabled');
  } else {
    $themeModeSwitchBtn.addClass('header-theme-btn-disabled');
  }
};

// 切换主题颜色模式
var switchThemeMode = function switchThemeMode(root) {
  setThemeModeSwitchBtnActive(false);
  var $darkModeSourceLink = $("LINK[href='".concat(root, "css/dark.css']"));
  if ($darkModeSourceLink.length === 1) {
    $darkModeSourceLink.remove();
    localStorage.preferredThemeMode = 'light';
  } else {
    $('<link>').attr({
      rel: 'stylesheet',
      type: 'text/css',
      href: "".concat(root, "css/dark.css")
    }).appendTo('head');
    localStorage.preferredThemeMode = 'dark';
  }
  setThemeModeSwitchBtnActive(true);
};

// 初始化切换主题颜色模式功能
var initThemeModeSwitchButton = function initThemeModeSwitchButton() {
  setThemeModeSwitchBtnActive(false);

  // 默认情况下，加载暗色主题
  // 若用户偏好浅色主题，则切换主题颜色模式
  if (getPreferredThemeMode() === 'light') {
    switchThemeMode(window.siteMeta.root);
  }
  $themeModeSwitchBtn.click(function () {
    switchThemeMode(window.siteMeta.root);
  });
  setThemeModeSwitchBtnActive(true);
};
initThemeModeSwitchButton();
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGFyay5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQU1BLG1CQUFtQixHQUFHQyxDQUFDLENBQUMsbUJBQW1CLENBQUM7O0FBRWxEO0FBQ0EsSUFBTUMscUJBQXFCLEdBQUcsU0FBeEJBLHFCQUFxQixHQUFlO0VBQ3hDLElBQUlDLGtCQUFrQixHQUFHQyxZQUFZLENBQUNELGtCQUFrQjtFQUN4RCxJQUFJLENBQUNBLGtCQUFrQixFQUFFO0lBQ3ZCO0lBQ0FBLGtCQUFrQixHQUFHRSxNQUFNLENBQUNDLFVBQVUsQ0FBQyw4QkFBOEIsQ0FBQyxDQUNuRUMsT0FBTyxHQUNOLE1BQU0sR0FDTixPQUFPO0lBQ1hILFlBQVksQ0FBQ0Qsa0JBQWtCLEdBQUdBLGtCQUFrQjtFQUN0RCxDQUFDLE1BQU07SUFDTEEsa0JBQWtCLEdBQUdBLGtCQUFrQixLQUFLLE1BQU0sR0FBRyxNQUFNLEdBQUcsT0FBTztFQUN2RTtFQUNBLE9BQU9BLGtCQUFrQjtBQUMzQixDQUFDOztBQUVEO0FBQ0EsSUFBTUssMkJBQTJCLEdBQUcsU0FBOUJBLDJCQUEyQixDQUFJQyxNQUFNLEVBQUs7RUFDOUMsSUFBSUEsTUFBTSxFQUFFO0lBQ1ZULG1CQUFtQixDQUFDVSxXQUFXLENBQUMsMkJBQTJCLENBQUM7RUFDOUQsQ0FBQyxNQUFNO0lBQ0xWLG1CQUFtQixDQUFDVyxRQUFRLENBQUMsMkJBQTJCLENBQUM7RUFDM0Q7QUFDRixDQUFDOztBQUVEO0FBQ0EsSUFBTUMsZUFBZSxHQUFHLFNBQWxCQSxlQUFlLENBQWFDLElBQUksRUFBRTtFQUN0Q0wsMkJBQTJCLENBQUMsS0FBSyxDQUFDO0VBQ2xDLElBQU1NLG1CQUFtQixHQUFHYixDQUFDLHNCQUFlWSxJQUFJLG9CQUFpQjtFQUNqRSxJQUFJQyxtQkFBbUIsQ0FBQ0MsTUFBTSxLQUFLLENBQUMsRUFBRTtJQUNwQ0QsbUJBQW1CLENBQUNFLE1BQU0sRUFBRTtJQUM1QlosWUFBWSxDQUFDRCxrQkFBa0IsR0FBRyxPQUFPO0VBQzNDLENBQUMsTUFBTTtJQUNMRixDQUFDLENBQUMsUUFBUSxDQUFDLENBQ1JnQixJQUFJLENBQUM7TUFDSkMsR0FBRyxFQUFFLFlBQVk7TUFDakJDLElBQUksRUFBRSxVQUFVO01BQ2hCQyxJQUFJLFlBQUtQLElBQUk7SUFDZixDQUFDLENBQUMsQ0FDRFEsUUFBUSxDQUFDLE1BQU0sQ0FBQztJQUNuQmpCLFlBQVksQ0FBQ0Qsa0JBQWtCLEdBQUcsTUFBTTtFQUMxQztFQUNBSywyQkFBMkIsQ0FBQyxJQUFJLENBQUM7QUFDbkMsQ0FBQzs7QUFFRDtBQUNBLElBQU1jLHlCQUF5QixHQUFHLFNBQTVCQSx5QkFBeUIsR0FBZTtFQUM1Q2QsMkJBQTJCLENBQUMsS0FBSyxDQUFDOztFQUVsQztFQUNBO0VBQ0EsSUFBSU4scUJBQXFCLEVBQUUsS0FBSyxPQUFPLEVBQUU7SUFDdkNVLGVBQWUsQ0FBQ1AsTUFBTSxDQUFDa0IsUUFBUSxDQUFDVixJQUFJLENBQUM7RUFDdkM7RUFFQWIsbUJBQW1CLENBQUN3QixLQUFLLENBQUMsWUFBWTtJQUNwQ1osZUFBZSxDQUFDUCxNQUFNLENBQUNrQixRQUFRLENBQUNWLElBQUksQ0FBQztFQUN2QyxDQUFDLENBQUM7RUFFRkwsMkJBQTJCLENBQUMsSUFBSSxDQUFDO0FBQ25DLENBQUM7QUFFRGMseUJBQXlCLEVBQUUsQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hleG8tdGhlbWUtYXJjaGVyLy4vc3JjL2pzL2RhcmsuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgJHRoZW1lTW9kZVN3aXRjaEJ0biA9ICQoJy5oZWFkZXItdGhlbWUtYnRuJylcclxuXHJcbi8vIOiOt+WPlueUqOaIt+WBj+WlveeahOS4u+mimOminOiJsuaooeW8j1xyXG5jb25zdCBnZXRQcmVmZXJyZWRUaGVtZU1vZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgbGV0IHByZWZlcnJlZFRoZW1lTW9kZSA9IGxvY2FsU3RvcmFnZS5wcmVmZXJyZWRUaGVtZU1vZGVcclxuICBpZiAoIXByZWZlcnJlZFRoZW1lTW9kZSkge1xyXG4gICAgLy8g6aaW5qyh6K6/6Zeu5pe277yM6K6+572u55So5oi35YGP5aW95Li76aKY6aKc6Imy5qih5byP5Li657O757uf5YGP5aW95Li76aKY6aKc6Imy5qih5byPXHJcbiAgICBwcmVmZXJyZWRUaGVtZU1vZGUgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpXHJcbiAgICAgIC5tYXRjaGVzXHJcbiAgICAgID8gJ2RhcmsnXHJcbiAgICAgIDogJ2xpZ2h0J1xyXG4gICAgbG9jYWxTdG9yYWdlLnByZWZlcnJlZFRoZW1lTW9kZSA9IHByZWZlcnJlZFRoZW1lTW9kZVxyXG4gIH0gZWxzZSB7XHJcbiAgICBwcmVmZXJyZWRUaGVtZU1vZGUgPSBwcmVmZXJyZWRUaGVtZU1vZGUgPT09ICdkYXJrJyA/ICdkYXJrJyA6ICdsaWdodCdcclxuICB9XHJcbiAgcmV0dXJuIHByZWZlcnJlZFRoZW1lTW9kZVxyXG59XHJcblxyXG4vLyDorr7nva7liIfmjaLkuLvpopjmjInpkq7lj6/ngrnlh7tcclxuY29uc3Qgc2V0VGhlbWVNb2RlU3dpdGNoQnRuQWN0aXZlID0gKGFjdGl2ZSkgPT4ge1xyXG4gIGlmIChhY3RpdmUpIHtcclxuICAgICR0aGVtZU1vZGVTd2l0Y2hCdG4ucmVtb3ZlQ2xhc3MoJ2hlYWRlci10aGVtZS1idG4tZGlzYWJsZWQnKVxyXG4gIH0gZWxzZSB7XHJcbiAgICAkdGhlbWVNb2RlU3dpdGNoQnRuLmFkZENsYXNzKCdoZWFkZXItdGhlbWUtYnRuLWRpc2FibGVkJylcclxuICB9XHJcbn1cclxuXHJcbi8vIOWIh+aNouS4u+mimOminOiJsuaooeW8j1xyXG5jb25zdCBzd2l0Y2hUaGVtZU1vZGUgPSBmdW5jdGlvbiAocm9vdCkge1xyXG4gIHNldFRoZW1lTW9kZVN3aXRjaEJ0bkFjdGl2ZShmYWxzZSlcclxuICBjb25zdCAkZGFya01vZGVTb3VyY2VMaW5rID0gJChgTElOS1tocmVmPScke3Jvb3R9Y3NzL2RhcmsuY3NzJ11gKVxyXG4gIGlmICgkZGFya01vZGVTb3VyY2VMaW5rLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgJGRhcmtNb2RlU291cmNlTGluay5yZW1vdmUoKVxyXG4gICAgbG9jYWxTdG9yYWdlLnByZWZlcnJlZFRoZW1lTW9kZSA9ICdsaWdodCdcclxuICB9IGVsc2Uge1xyXG4gICAgJCgnPGxpbms+JylcclxuICAgICAgLmF0dHIoe1xyXG4gICAgICAgIHJlbDogJ3N0eWxlc2hlZXQnLFxyXG4gICAgICAgIHR5cGU6ICd0ZXh0L2NzcycsXHJcbiAgICAgICAgaHJlZjogYCR7cm9vdH1jc3MvZGFyay5jc3NgLFxyXG4gICAgICB9KVxyXG4gICAgICAuYXBwZW5kVG8oJ2hlYWQnKVxyXG4gICAgbG9jYWxTdG9yYWdlLnByZWZlcnJlZFRoZW1lTW9kZSA9ICdkYXJrJ1xyXG4gIH1cclxuICBzZXRUaGVtZU1vZGVTd2l0Y2hCdG5BY3RpdmUodHJ1ZSlcclxufVxyXG5cclxuLy8g5Yid5aeL5YyW5YiH5o2i5Li76aKY6aKc6Imy5qih5byP5Yqf6IO9XHJcbmNvbnN0IGluaXRUaGVtZU1vZGVTd2l0Y2hCdXR0b24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgc2V0VGhlbWVNb2RlU3dpdGNoQnRuQWN0aXZlKGZhbHNlKVxyXG5cclxuICAvLyDpu5jorqTmg4XlhrXkuIvvvIzliqDovb3mmpfoibLkuLvpophcclxuICAvLyDoi6XnlKjmiLflgY/lpb3mtYXoibLkuLvpopjvvIzliJnliIfmjaLkuLvpopjpopzoibLmqKHlvI9cclxuICBpZiAoZ2V0UHJlZmVycmVkVGhlbWVNb2RlKCkgPT09ICdsaWdodCcpIHtcclxuICAgIHN3aXRjaFRoZW1lTW9kZSh3aW5kb3cuc2l0ZU1ldGEucm9vdClcclxuICB9XHJcblxyXG4gICR0aGVtZU1vZGVTd2l0Y2hCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgc3dpdGNoVGhlbWVNb2RlKHdpbmRvdy5zaXRlTWV0YS5yb290KVxyXG4gIH0pXHJcblxyXG4gIHNldFRoZW1lTW9kZVN3aXRjaEJ0bkFjdGl2ZSh0cnVlKVxyXG59XHJcblxyXG5pbml0VGhlbWVNb2RlU3dpdGNoQnV0dG9uKClcclxuIl0sIm5hbWVzIjpbIiR0aGVtZU1vZGVTd2l0Y2hCdG4iLCIkIiwiZ2V0UHJlZmVycmVkVGhlbWVNb2RlIiwicHJlZmVycmVkVGhlbWVNb2RlIiwibG9jYWxTdG9yYWdlIiwid2luZG93IiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJzZXRUaGVtZU1vZGVTd2l0Y2hCdG5BY3RpdmUiLCJhY3RpdmUiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwic3dpdGNoVGhlbWVNb2RlIiwicm9vdCIsIiRkYXJrTW9kZVNvdXJjZUxpbmsiLCJsZW5ndGgiLCJyZW1vdmUiLCJhdHRyIiwicmVsIiwidHlwZSIsImhyZWYiLCJhcHBlbmRUbyIsImluaXRUaGVtZU1vZGVTd2l0Y2hCdXR0b24iLCJzaXRlTWV0YSIsImNsaWNrIl0sInNvdXJjZVJvb3QiOiIifQ==